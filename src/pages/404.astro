---
import BaseLayout from '../layouts/BaseLayout.astro';
---
<BaseLayout title="Redirectingâ€¦">
	<script>
		const path = window.location.pathname + window.location.search + window.location.hash;
		const match = /^\/(search|item|subject|subcollection|collection|name|geography|type)/.test(path);

		if (match) {
			// Push the real URL into history *before* redirecting
			const finalPath = "/index.html?redirect=true&path=" + encodeURIComponent(path);
			window.history.pushState(null, "", finalPath);
			window.location.reload(); // so the app runs from index.html
		}
	</script>

	<main class="min-h-screen flex items-center justify-center">
		<p class="text-gray-500">Redirecting...</p>
	</main>
</BaseLayout>